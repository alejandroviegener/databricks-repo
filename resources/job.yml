# The main job for dab_example.
resources:
  jobs:
    test_job:
      name: test_job
      description: "This is the job description, in this case a dummy job" 
      git_source: 
        git_url: https://github.com/alejandroviegener/databricks-repo.git
        git_provider: github 
        git_branch: feature/test-workflow

      tasks:
        - task_key: task_1
          existing_cluster_id: 0226-191955-8o3di0cu
          spark_python_task:
            python_file: src/task_1.py
            source: GIT

        - task_key: task_2
          depends_on: 
            - task_key: task_1
          existing_cluster_id: 0226-191955-8o3di0cu
          spark_python_task:
            python_file: src/task_2.py
            source: GIT
            parameters:
              - "--param1"
              - "0"
              - "--param2"
              - "1"

        - task_key: task_3
          depends_on: 
            - task_key: task_1
            - task_key: task_2
          existing_cluster_id: 0226-191955-8o3di0cu
          spark_python_task:
            python_file: src/task_3.py
            source: GIT
            parameters:
              - "--param1"
              - "0"
              - "--param2"
              - "1"

        